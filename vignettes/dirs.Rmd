---
title: "EIA directories"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{EIA directories}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---



The first call below does not include a directory name and provides a data.frame
of all available categories. The second call shows all the sub-directories for which
there may be tertiary sub-folders, or data.

## Top level directory


```r
library(eia)
# eia_set_key("yourkey") # set API key if not already set globally
```

Here is the top-level directory information.


```r
eia_dir()
#> # A tibble: 14 × 3
#>    id                name                            description                                                                                              
#>    <chr>             <chr>                           <chr>                                                                                                    
#>  1 coal              Coal                            EIA coal energy data                                                                                     
#>  2 crude-oil-imports Crude Oil Imports               Crude oil imports by country to destination, includes type, grade, quantity.  Source: EIA-814  Interacti…
#>  3 electricity       Electricity                     EIA electricity survey data                                                                              
#>  4 international     International                   Country level production, consumption, imports, exports by energy source (petroleum, natural gas, electr…
#>  5 natural-gas       Natural Gas                     EIA natural gas survey data                                                                              
#>  6 nuclear-outages   Nuclear Outages                 EIA nuclear outages survey data                                                                          
#>  7 petroleum         Petroleum                       EIA petroleum gas survey data                                                                            
#>  8 seds              State Energy Data System (SEDS) Estimated production, consumption, price, and expenditure data for all energy sources by state and secto…
#>  9 steo              Short Term Energy Outlook       Monthly short term (18 month) projections using STEO model.  Report and interactive projection data brow…
#> 10 densified-biomass Densified Biomass               EIA densified biomass data                                                                               
#> 11 total-energy      Total Energy                    These data represent the most recent comprehensive energy statistics integrated across all energy source…
#> 12 aeo               Annual Energy Outlook           Annual U.S. projections using National Energy Modelling System (NEMS) for release year.  Report, documen…
#> 13 ieo               International Energy Outlook    Annual international projections using the World Energy Projection System (WEPS) model for release year.…
#> 14 co2-emissions     State CO2 Emissions             EIA CO2 Emissions data
```

## Subdirectories

The directory folders from above can be used to obtain subdirectory folder paths
from which further subdirectories or data may be obtained.


```r
eia_dir("electricity")
#> # A tibble: 6 × 3
#>   id                              name                                                                       description                                      
#>   <chr>                           <chr>                                                                      <chr>                                            
#> 1 retail-sales                    Electricity Sales to Ultimate Customers                                    "Electricity sales to ultimate customer by state…
#> 2 electric-power-operational-data Electric Power Operations (Annual and Monthly)                             "Monthly and annual electric power operations by…
#> 3 rto                             Electric Power Operations (Daily and Hourly)                               "Hourly and daily electric power operations by b…
#> 4 state-electricity-profiles      State Specific Data                                                        "State Specific Data"                            
#> 5 operating-generator-capacity    Inventory of Operable Generators                                           "Inventory of operable generators in the U.S.\n …
#> 6 facility-fuel                   Electric Power Operations for Individual Power Plants (Annual and Monthly) "Annual and monthly electric power operations fo…
```

...and so on.


```r
eia_dir("electricity/rto")
#> # A tibble: 8 × 3
#>   id                       name                                                        description                                                            
#>   <chr>                    <chr>                                                       <chr>                                                                  
#> 1 region-data              Hourly Demand, Demand Forecast, Generation, and Interchange "Hourly demand, day-ahead demand forecast, net generation, and interch…
#> 2 fuel-type-data           Hourly Generation by Energy Source                          "Hourly net generation by balancing authority and energy source.  \n  …
#> 3 region-sub-ba-data       Hourly Demand by Subregion                                  "Hourly demand by balancing authority subregion.  \n    Source: Form E…
#> 4 interchange-data         Hourly Interchange by Neighboring Balancing Authority       "Daily interchange between neighboring balancing authorities.  \n    S…
#> 5 daily-region-data        Daily Demand, Demand Forecast, Generation, and Interchange  "Daily demand, day-ahead demand forecast, net generation, and intercha…
#> 6 daily-region-sub-ba-data Daily Demand by Subregion                                   "Daily demand by balancing authority subregion.  \n    Source: Form EI…
#> 7 daily-fuel-type-data     Daily Generation by Energy Source                           "Daily net generation by balancing authority and energy source.  \n   …
#> 8 daily-interchange-data   Daily Interchange by Neighboring Balancing Authority        "Hourly interchange between neighboring balancing authorities.  \n    …
```

## Output format

The default is to return tidy data in a tibble data frame. For `eia_dir()` you can set `tidy = FALSE` to return the list returned by `jsonlite::fromJSON` without any further processing or `tidy = NA` to return the raw JSON data as a character string.


```r
eia_dir(tidy = FALSE)
#> $response
#> $response$id
#> [1] ""
#> 
#> $response$name
#> [1] ""
#> 
#> $response$description
#> [1] ""
#> 
#> $response$routes
#>                   id                            name
#> 1               coal                            Coal
#> 2  crude-oil-imports               Crude Oil Imports
#> 3        electricity                     Electricity
#> 4      international                   International
#> 5        natural-gas                     Natural Gas
#> 6    nuclear-outages                 Nuclear Outages
#> 7          petroleum                       Petroleum
#> 8               seds State Energy Data System (SEDS)
#> 9               steo       Short Term Energy Outlook
#> 10 densified-biomass               Densified Biomass
#> 11      total-energy                    Total Energy
#> 12               aeo           Annual Energy Outlook
#> 13               ieo    International Energy Outlook
#> 14     co2-emissions             State CO2 Emissions
#>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              description
#> 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   EIA coal energy data
#> 2                                                                                                                                                                                                                                                                                                          Crude oil imports by country to destination, \r\n        includes type, grade, quantity.  Source: EIA-814  Interactive data \r\n        product:  www.eia.gov/petroleum/imports/companylevel/
#> 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                            EIA electricity survey data
#> 4                                                                                                                                                                                                                                                                                        Country level production, consumption, imports, exports by energy source (petroleum, natural gas, electricity, renewable, etc.)  \r\n        Interactive product:  https://www.eia.gov/international/data/world
#> 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                            EIA natural gas survey data
#> 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                        EIA nuclear outages survey data
#> 7                                                                                                                                                                                                                                                                                                                                                                                                                                                                          EIA petroleum gas survey data
#> 8                                                                                                                                                                                                                                        Estimated production, consumption, price, and expenditure data for all energy sources by state and sector.  \r\n        Source:  https://www.eia.gov/state/seds/seds-technical-notes-complete.php  \r\n        Product:  SEDS (https://www.eia.gov/state/seds/)
#> 9                                                                                                                                                                                                                                                                                                                                                     Monthly short term (18 month) projections using STEO model.  \r\n        Report and interactive projection data browser:  STEO (www.eia.gov/steo/)
#> 10                                                                                                                                                                                                                                                                                                                                                                                                                                                                            EIA densified biomass data
#> 11 These data represent the most recent comprehensive energy statistics integrated across all energy sources.  The data includes total energy production, consumption, stocks, and trade; energy prices; overviews of petroleum, natural gas, coal, electricity, nuclear energy, renewable energy, and carbon dioxide emissions; and data unit conversions values.  Source: https://www.eia.gov/totalenergy/data/monthly/pdf/mer_a_doc.pdf  Report:  MER (https://www.eia.gov/totalenergy/data/monthly/)
#> 12                                                                                                                                                                                                                                                                                                                      Annual U.S. projections using National Energy Modelling System (NEMS) for release year.  Report, documentation, and interactive projection data browser:  AEO (www.eia.gov/aeo/)
#> 13                                                                                                                                                                                                                                                                                                                     Annual international projections using the World Energy Projection System (WEPS) model for release year.  Report and interactive projection data browser:  IEO (www.eia.gov/ieo/)
#> 14                                                                                                                                                                                                                                                                                                                                                                                                                                                                                EIA CO2 Emissions data
#> 
#> 
#> $request
#> $request$command
#> [1] "/v2/"
#> 
#> $request$params
#> $request$params$api_key
#> [1] "dUlpeaO4fNAmo9nJcgIhtCfBN5VtiZnoZDzuYGuG"
#> 
#> 
#> 
#> $apiVersion
#> [1] "2.1.4"
```
